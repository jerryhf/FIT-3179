{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Energy Sources Over Time",
  "width": 500,
  "height": 300,
  "data": {
    "url": "cleaned_energy_sources_updated.csv"
  },
  "transform": [
    {
      "filter": "(datum['Year'] % 2 === 0) && datum['Country Code'] === ''"
    }
  ],
  "encoding": {
    "x": {"field": "Year", "type": "ordinal", "title": "Year", "axis": {"values": [1973, 1975, 1977, 1979, 1981, 1983, 1985, 1987, 1989, 1991, 1993, 1995, 1997, 1999, 2001, 2003, 2005, 2007, 2009, 2011, 2013, 2015], "format": "d"}},
    "y": {"field": "Value", "type": "quantitative", "title": "Value", "stack": "normalize"},
    "color": {"field": "Series Name", "type": "nominal", "legend": {"title": "Energy Source"}},
    "tooltip": [
      {"field": "Country Name", "type": "nominal", "title": "Country"},
      {"field": "Year", "type": "ordinal", "title": "Year"},
      {"field": "Value", "type": "quantitative", "title": "Value"},
      {"field": "Series Name", "type": "nominal", "title": "Energy Source"}
    ]
  },
  "mark": "bar"
}
